<!--pages/mine.wxml-->
<!-- <navigator open-type="navigate" class="setting" url="/pages/setting/setting"></navigator> -->
<view class="bg-tx flex-content">
  <view class="flex-content-v">
    <van-uploader name="1" preview-size="199rpx" file-list="{{ fileList1 }}" accept="image" bind:after-read="afterRead1"
      max-count="1">
      <view class="tx">
        <van-image round width="100%" height="100%" fit="cover" src="{{avatar}}" />
      </view>
    </van-uploader>
    <view class="nickname">{{name}}</view>
    <view class="membername">会员名:{{name}}</view>
  </view>
</view>
<view class="bg-1">
  <view class="flex-around" style="padding:10rpx 60rpx;color:white;font-size:28rpx;">
    <navigator open-type="navigate" class="flex-content-v" url="/pages/mine/publish/publish">
      <view class="a-xiaoxi">
      </view>
      <view>
        我的发布</view>
    </navigator>
    <navigator open-type="navigate" class="flex-content-v" url="/pages/mine/favorite/favorite">
      <view class="a-shoucang">
      </view>
      <view>
        我的收藏</view>
    </navigator>
    <navigator open-type="navigate" class="flex-content-v" url="/pages/mine/history/history">
      <view class="a-daiban">
      </view>
      <view>
        历史浏览</view>
    </navigator>
  </view>

  <view class="card">
    <view class="card-head">基本信息</view>
    <view class="card-content" data-name="1" bindtap="showPopup">
      <view>会员名</view>
      <view>{{name}}</view>
      <view>性别</view>
      <view>{{sex}}</view>
      <view>常住</view>
      <view>{{addr}}</view>
      <view>职位</view>
      <view>{{jobPosition}}</view>
      <view>公司</view>
      <view>{{company}}</view>
    </view>
  </view>
  <view class="card">
    <view class="card-head">联系信息</view>
    <view class="card-content" data-name="2" bindtap="showPopup">
      <view>手机</view>
      <view>{{phone}}</view>
      <view>微信</view>
      <view>{{wechat}}</view>
      <view>QQ</view>
      <view>{{qq}}</view>
      <view>邮箱</view>
      <view>{{email}}</view>
    </view>
  </view>
</view>

<van-popup show="{{ show }}" bind:close="onClose" custom-style="width:60%;background:transparent;border-radius:30rpx">
  <view
    style="background:var(--primary-color);color:white;text-align:center;height:60rpx;line-height:60rpx;font-size:26rpx;">
    {{isBaseInfo? '基本信息':'联系信息'}}</view>
  <van-cell-group>
    <block wx:if="{{isBaseInfo}}">
      <van-field model:value="{{ name }}" label="会员名" placeholder="" clearable bind:change="onChange" />
      <van-field model:value="{{ sex }}" label="性别" placeholder="" clearable bind:change="onChange" />
      <van-field model:value="{{ addr }}" label="常住" placeholder="" clearable bind:change="onChange" />
      <van-field model:value="{{ jobPosition }}" label="职位" placeholder="" clearable bind:change="onChange" />
      <van-field model:value="{{ company }}" label="公司" placeholder="" clearable bind:change="onChange" />
    </block>
    <block wx:else>
      <van-field model:value="{{ phone }}" label="手机号" placeholder="" clearable type="digit" bind:change="onChange" />
      <van-field model:value="{{ wechat }}" label="微信" placeholder="" clearable bind:change="onChange" />
      <van-field model:value="{{ qq }}" label="QQ" placeholder="" clearable type="number" bind:change="onChange" />
      <van-field model:value="{{ email }}" label="邮箱" placeholder="" clearable border="{{ false }}"
        bind:change="onChange" />
    </block>
    <van-button type="primary" block bindtap="onComfirm">确认</van-button>
  </van-cell-group>
</van-popup>